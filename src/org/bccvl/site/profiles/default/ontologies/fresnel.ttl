@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdfg:    <http://www.w3.org/2004/03/trix/rdfg-1/> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .
@prefix fresnel: <http://www.w3.org/2004/09/fresnel#> .
@prefix foaf:    <http://xmlns.com/foaf/0.1/> .
@prefix ordf:    <http://purl.org/NET/ordf/> .
@prefix opmv:    <http://purl.org/net/opmv/ns#> .
@prefix time:    <http://www.w3.org/2006/time#> .
@prefix dc:      <http://purl.org/dc/elements/1.1/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix dcmitype: <http://purl.org/dc/dcmitype/> .
@prefix marcrel: <http://www.loc.gov/loc.terms/relators/> .
@prefix cld:     <http://purl.org/cld/terms/> .
@prefix cooee:   <http://ns.ausnc.org.au/corpus/COOEE/> .
@prefix ausnc:   <http://ns.ausnc.org.au/schemas/ausnc_md_model/> .
@prefix :        <http://ns.ausnc.org.au/app/FRESNEL#> .
@prefix source:  <http://aperture.semanticdesktop.org/ontology/2007/08/12/source#> .
@prefix sourceformat: <http://aperture.semanticdesktop.org/ontology/sourceformat#> .
@prefix olac: <http://www.language-archives.org/OLAC/1.1/> .
@prefix addrschema: <http://schemas.talis.com/2005/address/schema#> .
@prefix dbpedia: <http://dbpedia.org/resource/> .
@prefix gcsause: <http://ns.ausnc.org.au/corpus/gcsause/> .
@prefix ace:     <http://ns.ausnc.org.au/corpus/ACE/> .
@prefix bibo: <http://purl.org/ontology/bibo/> .
#@prefix ands:    <http://www.ands.org.au/ontologies/ns/0.1/VITRO-ANDS.owl#> .
@prefix ands: <http://purl.org/ands/ontologies/vivo/> .
@prefix vivo: <http://vivoweb.org/ontology/core#> .
@prefix for08: <http://purl.org/asc/1297.0/2008/for/> .
@prefix cs: <http://purl.org/vocab/changeset/schema#> .
@prefix locn: <http://www.w3.org/ns/locn#> .
@prefix z3c: <http://namespaces.zope.org/z3c/form#> .
@prefix cvocab: <http://namespaces.griffith.edu.au/collection_vocab#> .
@prefix bccprop: <http://namespaces.bccvl.org.au/prop#> .
@prefix bccvocab: <http://namespaces.bccvl.org.au/vocab#> .
@prefix be: <http://namespaces.bccvl.org.au/emsc#> .
@prefix bg: <http://namespaces.bccvl.org.au/gcm#> .

# Lenses:
#    classLensDomain    ... 0..n
#    instanceLensDomain ... 0..n, can use URIs, FSL and SPARQL
#    showProperties     ... 0..1, List of URIs, FSL, SPARQL
#    hideProperties     ... 0..1, List of URIs, FSL, SPARQL
#    purpose            ... 0..n,

# Select Lens:
#  1. instanceLensDomain before classLensDomain (remove latter if both presesnt)
#  2. keep domains based on SPARQL rather than keep those on FSL rather simple
#  3. still more than one lens?
#  4. for classLensDomains: check subclass relations, otherwise choose purpose:defaultLens
#     still in conflict? pick one and issue warning
#  5. instanceLensDomains:
#  5a. simple selectors ... select defaultLens, otherwise pick and warn
#  5b. FSL or SPARQL ... select most specific query .. otherwise pick and warn

# Find a label for an instance (purpose:LabelLens)
# 1. Display an instance lens with the purpose fresnel:labelLens for the resource.
# 2. If there is no instance label lens, display a class lens with the purpose fresnel:labelLens for the resource's class type.
# 3. If there is no class label lens, display the browser's default label lens. Browsers might want to provide a default label lens which could for example specify that rdfs:label or dc:title values should be used for all resources.
# 4. If the browser doesn't provide a default lens, display the URI of the resource.


# Format:
#    propertyFormatDomain ... give property to use this format for
#    classFormatDomain, instanceFormatDomain ... restrict format to specific classes / instances
#    label ... label for property
#    value  .... decide how to render the value (image, externallink, uri)
#    valueFormat ... allows nice things like: contentBefore, contentAfter, contentLast, contentNoValue

:DefaultGroup a fresnel:Group ;
    .


# Object:
#   id
#   title
#   physical address .....

#   abstract,
#   search word
#   for codes
#   geo - information
#   related info (type ,identifier, title, )
#   begin data, end date
#   progress
#   maintenance + update frequenecy
#   data formats
#   rights (acces, licence)

#   climate mode metadat:
#      GCM, emission scenario, time series, method,  format

#   accuracy

#   contact info:
#     creator, contributor, custodian, owner
#   type:
#     collectnio type, doi, format, collection relation, object type

#   Seqcari keys:
#     sector, activity, etc....

#   Party:
#     type, title, name, contact org, contact pos, mail addr, phys address, phonne, email
#
#

# TODO:
#    - add some way to group properties (e.g. fieldsets, tabs, etc...)
#      maybe use multpile lenses to group different aspects, or introduce a new construct to group properties within one lens.
#      1. needs to be done in app, or we have to define a new concept of resource aspects,
#      2. some sort of property list within property list would work here. (similar to fresnel:PropertyDescription)

:AllLens a fresnel:Lens ;
    rdfs:label "Generic All Lens" ;
    #fresnel:classLensDomain owl:Thing ;
    fresnel:group :DefaultGroup ;
    fresnel:hideProperties ( rdf:type ) ;
    fresnel:showProperties (
                             dcterms:title
                             dcterms:description
                             fresnel:allProperties ) ;
    .

# Knowledge Base:
#     s*Title,
#     b*Type (Functional Response, Cliamte Model, Species Distribution, Article)
#     s*Description .. RichText
#     *Contributor (free text)
#     Related Informaton (free tetx)
#     *Date

:FutureClimateDataSetLens a fresnel:Lens ;
    rdfs:label "Future Climate Data Set" ;
    fresnel:classLensDomain bccvocab:DataGenreFC;
    fresnel:group :DefaultGroup ;
    #fresnel:showProperties ( fresnel:allProperties ) ;
    fresnel:hideProperties ( rdf:type ) ;
    fresnel:showProperties (

                             # related info:
                             [ rdf:type z3c:PropertyGroup ;
                               z3c:propertyGroup :FutureClimateDataSetInfoFieldSet ;
                             ]
                            ) ;
    .

:SpeciesOccurrenceDataSetLens a fresnel:Lens ;
    rdfs:label "Species Occurrence Data Set" ;
    fresnel:classLensDomain bccvocab:DataGenreSO;
    fresnel:group :DefaultGroup ;
    #fresnel:showProperties ( fresnel:allProperties ) ;
    fresnel:hideProperties ( rdf:type ) ;
    fresnel:showProperties (

                             # related info:
                             [ rdf:type z3c:PropertyGroup ;
                               z3c:propertyGroup :SpeciesOccurrenceDataSetInfoFieldSet ;
                             ]
                            ) ;
    .

:ItemLens a fresnel:Lens ;
    rdfs:label "Data Set" ;
    fresnel:classLensDomain cvocab:Item ;
    fresnel:group :DefaultGroup ;
    #fresnel:showProperties ( fresnel:allProperties ) ;
    fresnel:hideProperties ( rdf:type ) ;
    fresnel:showProperties (
                             #dcterms:title
                             #dcterms:description

                             [ rdf:type z3c:PropertyGroup ;
                               z3c:propertyGroup :DataSetMetadataFieldSet ;
                             ]
                             # related info:
                             [ rdf:type z3c:PropertyGroup ;
                               z3c:propertyGroup :DataSetRelatedInfoFieldSet ;
                             ]
                            ) ;
    .

:FileLens a fresnel:Lens ;
    rdfs:label "File" ;
    fresnel:classLensDomain cvocab:File ;
    fresnel:group :DefaultGroup ;
    fresnel:hideProperties ( rdf:type ) ;
    fresnel:showProperties (
                             #dcterms:title
                             #dcterms:description

                             # related info:
                             [ rdf:type z3c:PropertyGroup ;
                               z3c:propertyGroup :DataSetRelatedInfoFieldSet ;
                             ]
                            ) ;
    .

:DatasetLens a fresnel:Lens ;
    rdfs:label "File" ;
    fresnel:classLensDomain cvocab:Dataset ;
    fresnel:group :DefaultGroup ;
    fresnel:hideProperties ( rdf:type ) ;
    fresnel:showProperties (
                             [ rdf:type z3c:PropertyGroup ;
                               z3c:propertyGroup :DataSetRelatedInfoFieldSet ;
                             ]
                            ) ;
    .

:DataSetMetadataFieldSet a z3c:PropertyGroup ;
    rdfs:label "Dataset Metadata" ;
    rdfs:comment "Basic information about the dataset record" ;
    fresnel:group :DefaultGroup ;
    fresnel:showProperties (
#           bccprop:location # TODO: does not exist
#           dcterms:creator #owner
#           dcterms:publisher
#           #manager
#           dcterms:available
#           vivo:hasSubjectArea
#           dcterms:temporal
#           dcterms:spatial
#           bccprop:attribution
       ) ;
    .


:PersonLens a fresnel:Lens ;
    rdfs:label "Person metadata" ;
    fresnel:classLensDomain foaf:Person ;
    fresnel:group :DefaultGroup ;
    fresnel:hideProperties ( rdf:type ) ;
    fresnel:showProperties ( rdfs:label
                             foaf:givenName
                             foaf:familyName
                             foaf:img  # might have to use a sublens here?
                             ands:nla
                             ands:isMemberOf
                             ands:isCollectorOf
                             ands:isOwnerOf
                             ands:isParticipantIn
                             ands:isPointOfContactFor
                             [ fresnel:property ands:streetAddress ;
                               rdf:type fresnel:PropertyDescription ;
                               fresnel:sublens :AddressLens ;
                             ]
                             [ fresnel:property ands:postalAddress ;
                               rdf:type fresnel:PropertyDescription ;
                               fresnel:sublens :AddressLens ;
                             ]
                             ands:enriches
                             fresnel:allProperties
                           ) ;
    .

:CollectionLens a fresnel:Lens ;
    rdfs:label "Collection metadata" ;
    fresnel:classLensDomain cvocab:Collection ;
    fresnel:group :DefaultGroup ;
    #fresnel:showProperties ( fresnel:allProperties ) ;
    fresnel:hideProperties ( rdf:type ) ;
    fresnel:showProperties ( rdfs:label
                             dcterms:title
                             dcterms:description
                             fresnel:allProperties ) ;

    # fresnel:showProperties ( [ rdf:type fresnel:PropertyDescription ;
    #                            fresnel:property olac:speaker ;
    #                            fresnel:sublens :FoafPersonSpeakerLens ]
    #                          fresnel:allProperties ) ;
    # fresnel:hideProperties ( rdf:type
    #                          rdfs:comment
    #                          ordf:changeSet ) ;
    .

:AddressLens a fresnel:Lens ;
    rdfs:label "Address information" ;
    fresnel:classLensDomain vivo:Address ;
    fresnel:group :DefaultGroup ;
    fresnel:hideProperties ( rdf:type ) ;
    fresnel:showProperties ( vivo:address1
                             vivo:address2
                             vivo:address3
                             vivo:addressCity
                             vivo:addressState
                             vivo:addressPostalCode
                             vivo:addressCountry
                           )
    .


:DataSetRelatedInfoFieldSet a z3c:PropertyGroup ;
    rdfs:label "Dataset Information" ;
    rdfs:comment "Basic information about the dataset" ;
    fresnel:group :DefaultGroup ;
    fresnel:showProperties (
        bccprop:datagenre
        bccprop:datatype
        bccprop:specieslayer
        bccprop:format
        dcterms:format
        bccprop:resolution
        bccprop:resolutionother
        dcterms:temporal
        bccprop:emissionscenario
        bccprop:gcm
    ) ;
    .

:FutureClimateDataSetInfoFieldSet a z3c:PropertyGroup ;
    rdfs:label "Future Climate Information" ;
    rdfs:comment "Basic information about the dataset" ;
    fresnel:group :DefaultGroup ;
    fresnel:showProperties (
#        bccprop:datagenre
#        bccprop:datatype
#        bccprop:specieslayer
        bccprop:format
        dcterms:format
        bccprop:resolution
        bccprop:resolutionother
    ) ;
    .

:SpeciesOccurrenceDataSetInfoFieldSet a z3c:PropertyGroup ;
    rdfs:label "Species Occurrence Information" ;
    rdfs:comment "Basic information about the dataset" ;
    fresnel:group :DefaultGroup ;
    fresnel:showProperties (
#        bccprop:datagenre
#        bccprop:datatype
#        bccprop:specieslayer
        bccprop:format
        dcterms:format
#        bccprop:resolution
#        bccprop:resolutionother
    ) ;
    .

# experimental field definition for MultiValued object field...
#  ... need to get the Lens in somehow and still stay as compatible as possible to the Fresnel sublens approach
z3c:RelatedInformationField a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFMultiValueField" ;
    z3c:valueType "gu.z3cform.rdf.schema.RDFObjectPropertyField" ;
    .


:OtherPropertyFieldSet a z3c:PropertyGroup ;
    rdfs:label "Other" ;
    rdfs:comment "Additional information not defined in other groups" ;
    fresnel:group :DefaultGroup ;
    fresnel:showProperties (
       fresnel:allProperties
       );
    .




z3c:PropertyGroup a owl:Class ;
    rdfs:label "Property Group" ;
    rdfs:comment "Used to group properties. Allows to attach group label, and visual separation form other properties." ;
    rdfs:subClassOf fresnel:Lens ; # TODO: use something bette. sublass from Lens so that we can use fresnel:showProperties list.
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    .

z3c:propertyGroup a owl:ObjectProperty ;
    rdfs:label "property group" ;
    rdfs:comment "property group to use. see fresnel:sublens" ;
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    rdfs:domain fresnel:PropertyGroup ;  # maybe this should be a PropertyDescription?
    rdfs:range z3c:PropertyGroup ;
    .

z3c:field a owl:ObjectProperty ;
    rdfs:label "field" ;
    rdfs:comment "zope field type to use for editing / display in z3c.forms" ;
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    rdfs:domain fresnel:Format ;
    rdfs:range z3c:Field ;
    .

z3c:fieldName a owl:DataProperty ;
    rdfs:label "field name" ;
    rdfs:comment "the field name (factory, class name) to instantiate this field" ;
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    rdfs:Domain z3c:Field ;
    rdfs:range xsd:string ; # dottedname
    .

z3c:fieldDescription a owl:DataProperty ;
    rdfs:label "field description" ;
    rdfs:comment "a short description or help text to show along the field" ;
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    rdfs:Domain z3c:Field ;
    rdfs:range xsd:string ;
    .

z3c:valueType a owl:DataProperty ;
    rdfs:label "value filed name" ;
    rdfs:comment "the field name for multi valued fields." ;
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    rdfs:Domain z3c:Field ;
    rdfs:range xsd:string ; # dottedname
    .

z3c:valueClass a owl:ObjectProperty ;
    rdfs:label "Value Class" ;
    rdfs:comment "Used to query instances of this class, to generate vocabularies." ;
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    rdfs:Domain z3c:Field ;
    .

# TODO: investigate this property here.
#       we usually define zope.schema.Field's here, but the widgetFactory
#       is applied to z3c.form.field.Field's, which are bound to the form
#       and can't be done here. maybe move this to the lens?
z3c:widgetFactory a owl:DataProporty ;
    rdfs:label "Widget name" ;
    rdfs:comment "factory for name for a specific widget to use. (python dotted name)." ;
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    rdfs:Domain z3c:Field ;
    rdfs:range xsd:string ; # dottedname
    .

z3c:vocabulary a owl:ObjectProperty ;
    rdfs:label "Vocabulary" ;
    rdfs:comment "Vocabulary to use for allowed values. " ;
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    rdfs:Domain z3c:Field ;
    .

z3c:query a owl:DataProperty ;
    rdfs:label "Vocabulary query" ;
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    rdfs:Domain z3c:Vocabulary ;
    rdfs:range xsd:string ; # the query returning value, title, token
    .

z3c:Vocabulary a owl:Class ;
    rdfs:label "A Sparql driven Vocabulary" ;
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    .

z3c:Field a owl:Class ;
    rdfs:label "Field" ;
    rdfs:comment "class to describe zope schema fields" ;
    rdfs:isDefinedBy <http://namespaces.zope.org/z3c/form#> ;
    .


z3c:TextLine a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFLiteralLineField" ;
#    z3c:fieldType "" ; # define datatype for field if necessary ... could derive from property
#    z3c:defaultlang "" ; # default language ... works only with untyped fields ... strings?
#   other field properties:
#    min, max, length, required, widget (field.widgetfactory), ...
    .

z3c:Text a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFLiteralField" ;
    .

z3c:MultiTextLine a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFMultiValueField" ;
    z3c:valueType "gu.z3cform.rdf.schema.RDFLiteralLineField" ;
    .

z3c:MultiClassChoice a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFMultiValueField" ;
    z3c:valueType "gu.z3cform.rdf.schema.RDFGroupedURIChoiceField" ;
    z3c:vocabulary z3c:RdfTypeVocabulary ;
    .

z3c:ImageChoice a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:ImageVocabulary ;
    .

z3c:GroupChoice a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:GroupVocabulary ;
    .

z3c:ResearchDataChoice a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:ResearchDataVocabulary ;
    .

z3c:ActivityChoice a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:ActivityVocabulary ;
    .

z3c:AddressChoice a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:AddressVocabulary ;
    .

z3c:MultiFORChoice a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFMultiValueField" ;
    z3c:valueType "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:FORVocabulary ;
    .

z3c:RelatedPersonField a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFMultiValueField" ;
    z3c:valueType "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:PersonVocabulary ;
    .

z3c:RelatedOrganisationField a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFMultiValueField" ;
    z3c:valueType "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:OrganisationVocabulary ;
    .

z3c:Date a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFDateField" ;
    .

z3c:DateRange a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFDateRangeField" ;
    .

z3c:DataGenreField a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:DataGenreVocabulary ;
    .

z3c:DataSetTypeField a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:DataSetTypeVocabulary ;
    .

z3c:SpeciesLayerField a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:SpeciesLayerVocabulary ;
    .

z3c:EmissionScenarioField a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:EmissionScenarioVocabulary ;
    .

z3c:GlobalClimateModelField a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:GlobalClimateModelVocabulary ;
    .

z3c:DataSetFormatField a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:DataSetFormatVocabulary ;
    .

z3c:ResolutionField a z3c:Field ;
    z3c:fieldName "gu.z3cform.rdf.schema.RDFURIChoiceField" ;
    z3c:vocabulary z3c:ResolutionVocabulary ;
    .

z3c:DataGenreVocabulary a z3c:Vocabulary ;
    z3c:valueClass bccvocab:DataGenre ;
    .

z3c:DataSetTypeVocabulary a z3c:Vocabulary ;
    z3c:valueClass bccvocab:DataSetType ;
    .

z3c:SpeciesLayerVocabulary a z3c:Vocabulary ;
    z3c:valueClass bccvocab:SpeciesLayer ;
    .

z3c:EmissionScenarioVocabulary a z3c:Vocabulary ;
    z3c:valueClass be:EMSC ;
    .

z3c:GlobalClimateModelVocabulary a z3c:Vocabulary ;
    z3c:valueClass bg:GCM ;
    .

z3c:DataSetFormatVocabulary a z3c:Vocabulary ;
    z3c:valueClass bccvocab:DataSetFormat ;
    .

z3c:ResolutionVocabulary a z3c:Vocabulary ;
    z3c:valueClass bccvocab:Resolution ;
    .

z3c:RdfTypeVocabulary a z3c:Vocabulary ;
    z3c:valueClass owl:Class ;
    .

z3c:ImageVocabulary a z3c:Vocabulary ;
    z3c:valueClass foaf:Image ;
    .

z3c:GroupVocabulary a z3c:Vocabulary ;
    z3c:valueClass foaf:Group ;
    .

z3c:PersonVocabulary a z3c:Vocabulary ;
    z3c:valueClass foaf:Person ;
    .

z3c:OrganisationVocabulary a z3c:Vocabulary ;
    z3c:valueClass foaf:Organisation ;
    .

z3c:ResearchDataVocabulary a z3c:Vocabulary ;
    z3c:valueClass ands:ResearchData ;
    .

z3c:ActivityVocabulary a z3c:Vocabulary ;
    z3c:valueClass ands:Activity ;
    .

z3c:AddressVocabulary a z3c:Vocabulary ;
    z3c:valueClass ands:Address ;
    .

# FIXME: would be a nice option for hierarchical vocab.
#        for now let people choose 6 digit codes.
# TODO: make title field selectable? (or just use z3c:query)
z3c:FORVocabulary a z3c:Vocabulary ;
#    z3c:valueClass for08:FOR6 ;
    z3c:query """select distinct ?uri ?title
                 Where
                 { ?uri a <http://purl.org/asc/1297.0/2008/for/FOR6> .
                   optional { ?uri <http://www.w3.org/2000/01/rdf-schema#label> ?label .
                              ?uri <http://purl.org/asc/1297.0/code> ?code .
                              BIND(concat(?code, ' - ', ?label) AS ?title) }
                   filter ( !isBlank(?uri) )
                 }
                 order by ?title""" ;
    .

############# DC Elements


:dctitleFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dc:title ;
    fresnel:label "Title (dc)" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:dcdescriptionFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dc:description ;
    fresnel:label "Description (dc)" ;
    z3c:field z3c:Text ;
    fresnel:group :DefaultGroup ;
    .



############## DCTerms

:dctermstitleFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:title ;
    fresnel:label "Title" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:dctermsdescriptionFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:description ;
    fresnel:label "Description" ;
    z3c:field z3c:Text ;
    fresnel:group :DefaultGroup ;
    .

:dctermsidentifierFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:identifier ;
    fresnel:label "Identifier" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:dctermstypeFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:type;
    fresnel:label "Type" ;
    z3c:field z3c:TextLine ;
    # Might be ok, but does not match form beginnig of word (query problem?), and allows to enter new terms, even if field does not allow it.
    # the widget is hardcoded for Subject values :(
    #z3c:widgetFactory "collective.z3cform.widgets.token_input_widget.TokenInputFieldWidget" ;
    fresnel:group :DefaultGroup ;
    .

:dctermscreatorFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:creator;
    fresnel:label "Creator" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
   .

:dctermspublisherFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:publisher;
    fresnel:label "Publisher" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
   .

:dctermsownerFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:owner ;
    fresnel:label "Owner" ;
    z3c:field z3c:RelatedOrganisationField ;
#    z3c:widgetFactory "plone.formwidget.autocomplete.AutocompleteMultiFieldWidget" ;
#    z3c:widgetFactory "z3c.form.browser.select.CollectionSelectFieldWidget" ;
    z3c:widgetFactory "org.terranova.site.widget.SimpleMultiSelectFieldWidget" ;
#    z3c:widgetFactory "z3c.form.browser.select.SelectFieldWidget" ;
    fresnel:group :DefaultGroup ;
    .

:dctermscustodianFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:custodian ;
    fresnel:label "Custodian" ;
    z3c:field z3c:RelatedPersonField ;
    z3c:widgetFactory "plone.formwidget.autocomplete.AutocompleteMultiFieldWidget" ;
    # z3c:widgetFactory "collective.z3cform.widgets.multicontent_search_widget.MultiContentSearchFieldWidget" ;
    fresnel:group :DefaultGroup ;
    .

:dctermscontributorFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:contributor ;
    fresnel:label "Contributor" ; # "Author(s)"
    z3c:field z3c:MultiTextLine ;
    z3c:widgetFactory "collective.z3cform.widgets.enhancedtextlines.EnhancedTextLinesFieldWidget" ;
    fresnel:group :DefaultGroup ;
    .

:dctermsspatialFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:spatial;
    fresnel:label "Geographic extent polygon" ;
    z3c:field z3c:TextLine ;
    # TODO: fails on traversal ...
    # Expression: <PythonExpr (context.restrictedTraverse('@@geosettings-view'))>
    # - Names:
    #   {'args': (),
    #    'context': <Graph identifier=http://terranova.org.au/ccaih/a14e415390cb4e17b0fc88dc6a699b46 (<class 'ordf.graph.Graph'>)>,
    #    'default': <object object at 0x1002c3b30>,
    #    'loop': {},
    #    'nothing': None,
    #    'options': {},
    #    'repeat': {},
    #    'request': <HTTPRequest, URL=http://localhost:8499/CCAIH/repository/gu-repository-content-repositoryitem-2/edit_metadata>,
    #    'template': <zope.browserpage.viewpagetemplatefile.ViewPageTemplateFile object at 0x109797210>,
    #    'view': <MapWidget 'form.widgets.http://purl.org/dc/terms/spatial'>,
    #    'views': <zope.browserpage.viewpagetemplatefile.ViewMapper object at 0x10cfb1390>}
    # Module zope.tales.pythonexpr, line 59, in __call__
    # - __traceback_info__: (context.restrictedTraverse('@@geosettings-view'))
    # Module <string>, line 1, in <module>
    #    AttributeError: 'Graph' object has no attribute 'restrictedTraverse'
    z3c:fieldDescription "Double click last point to finish polygon." ;
    z3c:widgetFactory "collective.z3cform.mapwidget.widget.MapFieldWidget" ;
    fresnel:group :DefaultGroup ;
    .

:dctermskeywordFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:keyword;
    fresnel:label "Keywords" ;
    z3c:field z3c:MultiTextLine ;
    fresnel:group :DefaultGroup ;
    .

:dctermsissuedFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:issued;
    fresnel:label "Publication date" ;
    z3c:field z3c:Date ;
    fresnel:group :DefaultGroup ;
    .

:dctermsavailableFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:available;
    fresnel:label "Available date" ;
    z3c:field z3c:Date ;
    fresnel:group :DefaultGroup ;
    .

:dctermstemporalFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:temporal;
    fresnel:label "Temporal coverage" ;
    z3c:field z3c:DateRange ;
    #z3c:widgetFactory "collective.z3cform.datetimewidget.DateFieldWidget" ;
    #z3c:widgetFactory "gu.plone.rdf.widget.DateFieldWidget" ;

    fresnel:group :DefaultGroup ;
    .

:dctermsformatFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:format;
    fresnel:label "Data format (other)" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:dctermsrightsFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:rights;
    fresnel:label "Rights" ;
    z3c:field z3c:MultiTextLine ;
    fresnel:group :DefaultGroup ;
    .

:dctermsprovenanceFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:provenance;
    fresnel:label "Lineage" ;
    z3c:field z3c:MultiTextLine ;
    fresnel:group :DefaultGroup ;
    .

:dctermsbibliographicCitationFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dcterms:bibliographicCitation;
    fresnel:label "Citation" ;
    z3c:field z3c:MultiTextLine ;
    fresnel:group :DefaultGroup ;
    .

:rdfslabelFormat a fresnel:Format ;
    fresnel:propertyFormatDomain rdfs:label ;
    fresnel:label "Label" ;
    z3c:field z3c:MultiTextLine ;
    fresnel:group :DefaultGroup ;
    .

:rdftypeFormat a fresnel:Format ;
    fresnel:propertyFormatDomain rdf:type ;
    fresnel:label "Type" ;
    z3c:field z3c:MultiClassChoice ;
    #z3c:widgetFactory "z3c.formwidget.query.widget.QuerySourceFieldRadioWidget" ;
    #z3c:widgetFactory "z3c.formwidget.query.widget.QuerySourceFieldCheckboxWidget" ;
    z3c:widgetFactory "gu.z3cform.rdf.widgets.widget.GroupedSelectFieldWidget" ; # TODO: shouldn't this be the default widget for this sort of field?
    fresnel:group :DefaultGroup ;
    .


################### VIVO Fields
:vivoaddress1 a fresnel:Format ;
    fresnel:propertyFormatDomain vivo:address1;
    fresnel:label "Address Line 1" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup .

:vivoaddress2 a fresnel:Format ;
    fresnel:propertyFormatDomain vivo:address2;
    fresnel:label "Address Line 2" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup .

:vivoaddress3 a fresnel:Format ;
    fresnel:propertyFormatDomain vivo:address3;
    fresnel:label "Address Line 3" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup .

:vivoaddressCityFormat a fresnel:Format ;
    fresnel:propertyFormatDomain vivo:addressCity;
    fresnel:label "City" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup .

:vivoaddressStateFormat a fresnel:Format ;
    fresnel:propertyFormatDomain vivo:addressState;
    fresnel:label "State" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup .

:vivoaddressCountryFormat a fresnel:Format ;
    fresnel:propertyFormatDomain vivo:addressCountry;
    fresnel:label "Country" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup .

:vivoaddressPostalCodeFormat a fresnel:Format ;
    fresnel:propertyFormatDomain vivo:addressPostalCode;
    fresnel:label "Post code" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup .

:vivophoneNumberFormat a fresnel:Format ;
    fresnel:propertyFormatDomain vivo:phoneNumber;
    fresnel:label "Telephone" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup .

:vivoemailFormat a fresnel:Format ;
    fresnel:propertyFormatDomain vivo:email;
    fresnel:label "Email" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ; .

:vivohasSubjectAreaFormat a fresnel:Format ;
    fresnel:propertyFormatDomain vivo:hasSubjectArea;
    fresnel:label "FOR codes" ;
    z3c:field z3c:MultiFORChoice ;
    #z3c:widgetFactory "collective.z3cform.chosen.ChosenMultiFieldWidget" ;
    z3c:widgetFactory "collective.z3cform.chosen.AjaxChosenMultiFieldWidget" ;
    fresnel:group :DefaultGroup ;
    .

################### BIBO Fields

:bibodoiFormat a fresnel:Format ;
    fresnel:propertyFormatDomain bibo:doi;
    fresnel:label "DOI" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:bibouriFormat a fresnel:Format ;
    fresnel:propertyFormatDomain bibo:uri;
    fresnel:label "URI" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:biboisbnFormat a fresnel:Format ;
    fresnel:propertyFormatDomain bibo:isbn;
    fresnel:label "ISBN" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:biboissnFormat a fresnel:Format ;
    fresnel:propertyFormatDomain bibo:issn;
    fresnel:label "ISSN" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .



################### FOAF Fields

:foafgivenNameFormat a fresnel:Format ;
    fresnel:propertyFormatDomain foaf:givenName ;
    fresnel:label "Given name" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:foaffamilyNameFormat a fresnel:Format ;
    fresnel:propertyFormatDomain foaf:familyName ;
    fresnel:label "Family name" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup .

:foaforganisationFormat a fresnel:Format ;
    fresnel:propertyFormatDomain foaf:organisation ;
    fresnel:label "Organisation" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup .

:foaftitleFormat a fresnel:Format ;
    fresnel:propertyFormatDomain foaf:title ;
    fresnel:label "Title" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup .

:foafimg a fresnel:Format ;
    fresnel:propertyFormatDomain foaf:img ;
    fresnel:label "Image" ;
    z3c:field z3c:ImageChoice ;
    fresnel:group :DefaultGroup ;
    .

#################### ANDS Fields

:andsnla a fresnel:Format ;
    fresnel:propertyFormatDomain ands:nla ;
    fresnel:label "NLA Identifier" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:andsisMemberOf a fresnel:Format ;
    fresnel:propertyFormatDomain ands:isMemberOf ;
    fresnel:label "Member of" ;
    z3c:field z3c:GroupChoice ;
    fresnel:group :DefaultGroup ;
    .

:andsisCollectorOf a fresnel:Format ;
    fresnel:propertyFormatDomain ands:isCollectorOf ;
    fresnel:label "Collector of" ;
    z3c:field z3c:ResearchDataChoice ;
    fresnel:group :DefaultGroup ;
    .

:andsisOwnerOf a fresnel:Format ;
    fresnel:propertyFormatDomain ands:isOwnerOf ;
    fresnel:label "Owner of" ;
    z3c:field z3c:ResearchDataChoice ;
    fresnel:group :DefaultGroup ;
    .

:andsenriches a fresnel:Format ;
    fresnel:propertyFormatDomain ands:enriches ;
    fresnel:label "Enriches" ;
    z3c:field z3c:ResearchDataChoice ;
    fresnel:group :DefaultGroup ;
    .

:andsisParticipantIn a fresnel:Format ;
    fresnel:propertyFormatDomain ands:isParticipantIn ;
    fresnel:label "Participant in" ;
    z3c:field z3c:ActivityChoice ;
    fresnel:group :DefaultGroup ;
    .

:andsisPointOfContactFor a fresnel:Format ;
    fresnel:propertyFormatDomain ands:isPointOfContactFor ;
    fresnel:label "Point of contact for" ;
    z3c:field z3c:ResearchDataChoice ;
    fresnel:group :DefaultGroup ;
    .

:andstreetAddress a fresnel:Format ;
    fresnel:propertyFormatDomain ands:streetAddress ;
    fresnel:label "Street address" ;
    z3c:field z3c:AddressChoice ;
    fresnel:group :DefaultGroup ;
    .

:andpostalAddress a fresnel:Format ;
    fresnel:propertyFormatDomain ands:postalAddress ;
    fresnel:label "Postal address" ;
    z3c:field z3c:AddressChoice ;
    fresnel:group :DefaultGroup ;
    .

:andsrelatedInformationType a fresnel:Format ;
    fresnel:propertyFormatDomain ands:relatedInformationType ;
    fresnel:label "Related Information Type" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:andsrelatedInformationResource a fresnel:Format ;
    fresnel:propertyFormatDomain ands:relatedInformationResource ;
    fresnel:label "Related Information" ;
    z3c:field z3c:RelatedInformationField ;
    fresnel:group :DefaultGroup ;
    # TODO: the following prop should go away (need a more sane approach for multi valued sub objects if possible)
    # Workaround field to define Multi Valued sub lenses.
    z3c:multi "true" ;
    # there is a problem with current rdflib zodb and typed literals ^^xsd:boolean ;
    .

##################### BCC Fields

:bccpropLocation a fresnel:Format ;
    fresnel:propertyFormatDomain bccprop:location ;
    fresnel:label "Electronic Location" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:bccpropAttribution a fresnel:Format ;
    fresnel:propertyFormatDomain bccprop:attribution ;
    fresnel:label "Attribution" ;
    z3c:field z3c:Text ;
    fresnel:group :DefaultGroup ;
    .

:bccpropDataGenre a fresnel:Format ;
    fresnel:propertyFormatDomain bccprop:datagenre ;
    fresnel:label "Data Genre" ;
    z3c:field z3c:DataGenreField ;
    fresnel:group :DefaultGroup ;
    .

:bccpropDataType a fresnel:Format ;
    fresnel:propertyFormatDomain bccprop:datatype ;
    fresnel:label "Type of Dataset" ;
    z3c:field z3c:DataSetTypeField ;
    fresnel:group :DefaultGroup ;
    .

:bccpropSpeciesLayer a fresnel:Format ;
    fresnel:propertyFormatDomain bccprop:specieslayer ;
    fresnel:label "Species Layer" ;
    z3c:fieldDescription "Species distribution data only" ;
    z3c:field z3c:SpeciesLayerField ;
    fresnel:group :DefaultGroup ;
    .

:bccpropFormat a fresnel:Format ;
    fresnel:propertyFormatDomain bccprop:format ;
    fresnel:label "Format" ;
    z3c:field z3c:DataSetFormatField ;
    fresnel:group :DefaultGroup ;
    .

:bccpropresolution a fresnel:Format ;
    fresnel:propertyFormatDomain bccprop:resolution ;
    fresnel:label "Resolution" ;
    z3c:fieldDescription "Raster data only" ;
    z3c:field z3c:ResolutionField ;
    fresnel:group :DefaultGroup ;
    .

:bccpropresolutionther a fresnel:Format ;
    fresnel:propertyFormatDomain bccprop:resolutionother ;
    fresnel:label "Resolution (Other)" ;
    z3c:fieldDescription "Raster data only" ;
    z3c:field z3c:TextLine ;
    fresnel:group :DefaultGroup ;
    .

:bccpropSpeciesLayer a fresnel:Format ;
    fresnel:propertyFormatDomain bccprop:emissionscenario ;
    fresnel:label "Emission Scenario" ;
    z3c:fieldDescription "Emission Scenario for future climate data" ;
    z3c:field z3c:EmissionScenarioField ;
    fresnel:group :DefaultGroup ;
    .
    
:bccpropGlobalClimateModel a fresnel:Format ;
    fresnel:propertyFormatDomain bccprop:gcm ;
    fresnel:label "Global Climate Model" ;
    z3c:fieldDescription "Global Climate Model" ;
    z3c:field z3c:GlobalClimateModelField ;
    fresnel:group :DefaultGroup ;
    .    




##################### EDIT Form descriptions:

# Field:
#    property selector
#    label ?
#    zope-field-name







# Fields, Widgets, Forms,

# create / edit specific instance:

# Lens ... select all properties (sublens ... add BNode)
